# Solution Overview

This repository contains an ASP.NET Core 8 backend and an Angular 17 frontend application. The backend leverages .NET Aspire, a cloud-ready stack for building distributed applications. Some projects (AppHost and ServiceDefaults) are generated by and required for .NET Aspire orchestration and shared configuration.

## Projects

- **AngularApp1.Server**: ASP.NET Core 8 backend (API)
- **AngularApp1.AppHost**: .NET Aspire AppHost project (purpose: orchestration, entry point for Aspire apps)
- **AngularApp1.ServiceDefaults**: .NET Aspire ServiceDefaults project (purpose: shared service configuration, e.g., logging, health checks, telemetry)
- **angularapp1.client**: Angular 17 frontend application

> **Note:** The AppHost and ServiceDefaults projects are part of the .NET Aspire solution structure. Learn more about .NET Aspire at [https://learn.microsoft.com/dotnet/aspire/overview](https://learn.microsoft.com/dotnet/aspire/overview)

## Getting Started

### Prerequisites
- .NET 8 SDK (ASP.NET Core 8)
- Node.js & npm (for Angular client)
- Angular CLI 17.x (for Angular client)

### Restore Dependencies
- **Backend**: `dotnet restore` in the solution directory or project folder
- **Frontend**: `npm install` in the `angularapp1.client` directory

### Build & Run
- **Backend**: `dotnet build` and `dotnet run` from the server project directory
- **Frontend**: `ng serve` from the `angularapp1.client` directory

## Testing
- **Backend**: `dotnet test`
- **Frontend**: `ng test`

## Contributing
- Follow the coding guidelines in `.github/copilot-instructions.md`
- Write and update tests for all changes

## References
- [Visual Studio MCP Servers Documentation](https://learn.microsoft.com/en-us/visualstudio/ide/mcp-servers?view=vs-2022)
- [YouTube: GitHub Copilot for .NET and Angular](https://www.youtube.com/watch?v=dutyOc_cAEU)
- [Sample Copilot Instructions (GitHub)](https://github.com/burkeholland/the-urlist-web/blob/main/.github/copilot-instructions.md)

## License
Specify your license here.

## MCP Server for GitHub: Setup in Visual Studio Code

See [MCP_GitHub_Server_Setup.md](./MCP_GitHub_Server_Setup.md) for detailed, step-by-step instructions on how to configure and run a Model Context Protocol (MCP) Server for GitHub in Visual Studio Code.

---

## Using MCP Agent Mode in Visual Studio 2022

To enable and configure Agent Mode with an MCP server (such as the GitHub MCP server) in Visual Studio 2022:

### Prerequisites
- Visual Studio 2022 version 17.14 or later
- GitHub Copilot access (sign in with your GitHub account)
- (Optional) [GitHub Copilot for Free](https://learn.microsoft.com/en-us/visualstudio/ide/copilot-free-plan?view=vs-2022)

### Steps
1. **Enable Agent Mode**
   - In Visual Studio, go to `Tools > Options > GitHub > Copilot > Copilot Chat`.
   - Set **Enable agent mode** in the chat pane.

2. **Sign in to Visual Studio with your GitHub account**
   - Ensure you have Copilot access.

3. **Create MCP Configuration**
   - In your solution directory, create a file named `.mcp.json` (or use `%USERPROFILE%\.mcp.json` for global config).
   - Example `.mcp.json` for the GitHub MCP server:
     ```json
     {
       "inputs": [
         {
           "id": "github_pat",
           "description": "GitHub personal access token",
           "type": "promptString",
           "password": true
         }
       ],
       "servers": {
         "github": {
           "type": "stdio",
           "command": "docker",
           "args": [
             "run",
             "-i",
             "--rm",
             "-e",
             "GITHUB_PERSONAL_ACCESS_TOKEN",
             "ghcr.io/github/github-mcp-server"
           ],
           "env": {
             "GITHUB_PERSONAL_ACCESS_TOKEN": "${input:github_pat}"
           }
         }
       }
     }
     ```
   - Add this file to Solution Items in Solution Explorer if you want to track it in source control.

4. **Get a GitHub Personal Access Token**
   - [Create a token here](https://github.com/settings/personal-access-tokens) and copy it for use in the next step.

5. **Start Agent Mode in Copilot Chat**
   - In Visual Studio, open the Copilot Chat window.
   - Click the `Ask` dropdown and select `Agent`.
   - When prompted, paste your GitHub personal access token.
   - Select the tools you'd like to use (e.g., `list_issues`).
   - Try a sample prompt, such as: `list issues assigned to me on GitHub`.
   - When Copilot asks for permission to use a tool, select **Allow** with the desired scope.

### Additional Notes
- MCP configuration files can be placed in several locations for different scopes (global, solution, VS Code, etc.).
- Visual Studio supports local (`stdio`), server-sent events (`sse`), and HTTP (`http`) transports for MCP servers.
- You can manage tool approvals and reset them in `Tools > Options > GitHub > Copilot > Tools`.

For more details, see the [official documentation](https://learn.microsoft.com/en-us/visualstudio/ide/mcp-servers?view=vs-2022).
